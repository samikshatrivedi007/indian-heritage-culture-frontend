(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{1451:(e,s,l)=>{Promise.resolve().then(l.bind(l,6485))},6485:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>o});var t=l(5155),a=l(2115),n=l(3464),r=l(5695);let o=()=>{let e=(0,r.useRouter)(),[s,l]=(0,a.useState)({title:"",slug:"",content:"",coverImage:"",tags:"",category:"",published:!1}),[o,d]=(0,a.useState)(!1),[c,i]=(0,a.useState)(""),m=e=>{let s=e.target,{name:t,value:a,type:n}=s;l(e=>({...e,[t]:"checkbox"===n?s.checked:a}))},u=async l=>{l.preventDefault(),d(!0),i("");try{await n.A.post("/api/blogs",{...s,tags:s.tags.split(",").map(e=>e.trim())}),e.push("/blog")}catch(e){var t,a;i((null==(a=e.response)||null==(t=a.data)?void 0:t.message)||"Something went wrong")}finally{d(!1)}};return(0,t.jsxs)("main",{className:"max-w-3xl mx-auto p-6 mt-10 bg-white rounded-lg shadow-lg font-sans",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-center text-green-700 mb-6",children:"\uD83D\uDCDD Add New Blog"}),c&&(0,t.jsx)("p",{className:"text-red-600 mb-4 text-center",children:c}),(0,t.jsxs)("form",{onSubmit:u,className:"space-y-5",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Title"}),(0,t.jsx)("input",{type:"text",name:"title",required:!0,className:"w-full px-4 py-2 border rounded",value:s.title,onChange:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Slug"}),(0,t.jsx)("input",{type:"text",name:"slug",required:!0,className:"w-full px-4 py-2 border rounded",value:s.slug,onChange:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Cover Image URL"}),(0,t.jsx)("input",{type:"text",name:"coverImage",className:"w-full px-4 py-2 border rounded",value:s.coverImage,onChange:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Content"}),(0,t.jsx)("textarea",{name:"content",required:!0,rows:6,className:"w-full px-4 py-2 border rounded",value:s.content,onChange:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Tags (comma separated)"}),(0,t.jsx)("input",{type:"text",name:"tags",className:"w-full px-4 py-2 border rounded",value:s.tags,onChange:m})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block font-semibold mb-1",children:"Category"}),(0,t.jsx)("input",{type:"text",name:"category",className:"w-full px-4 py-2 border rounded",value:s.category,onChange:m})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("input",{type:"checkbox",name:"published",checked:s.published,onChange:m,className:"w-5 h-5"}),(0,t.jsx)("label",{className:"text-sm font-medium",children:"Publish this blog?"})]}),(0,t.jsx)("button",{type:"submit",disabled:o,className:"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition",children:o?"Submitting...":"Submit Blog"})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[794,441,684,358],()=>s(1451)),_N_E=e.O()}]);